#!/bin/bash

# SPDX-FileCopyrightText: 2023 KOINSLOT, Inc.
#
# SPDX-License-Identifier: GPL-3.0-or-later

# vi: ft=sh

echo "ü•ù devkit: clean..."

set -euo pipefail

for projectDir in $(get_apps); do
  echo "ü•ù devkit: cleaning $projectDir..."
  idf.py --project-dir $projectDir fullclean
done

find . \( -name .cache -o -name __pycache__ -o -name sdkconfig \) | xargs rm -rf

rm -rf .devkit
rm -rf compile_commands.json

echo "ü•ù devkit: clean complete."
